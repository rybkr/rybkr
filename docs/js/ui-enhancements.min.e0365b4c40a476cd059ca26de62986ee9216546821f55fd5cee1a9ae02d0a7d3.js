(function(){"use strict";const t=document.getElementById("back-to-top");if(t){let e=!1;function s(){window.scrollY>400?t.classList.add("visible"):t.classList.remove("visible"),e=!1}window.addEventListener("scroll",()=>{e||(requestAnimationFrame(s),e=!0)},{passive:!0}),t.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}const e=document.getElementById("shortcuts-modal");if(e){function o(){e.classList.add("open"),document.body.style.overflow="hidden"}function n(){e.classList.remove("open"),document.body.style.overflow=""}document.addEventListener("keydown",t=>{if(i())return;const s=document.getElementById("command-palette");if(s&&s.classList.contains("open"))return;t.key==="?"&&!t.metaKey&&!t.ctrlKey&&(t.preventDefault(),e.classList.contains("open")?n():o()),t.key==="Escape"&&e.classList.contains("open")&&(t.preventDefault(),n())}),e.querySelector(".shortcuts-modal-backdrop").addEventListener("click",n);const t=e.querySelector(".shortcuts-modal-close");t&&t.addEventListener("click",n)}document.querySelectorAll(".highlight").forEach(e=>{if(e.querySelector(".copy-code"))return;const n=e.querySelector("pre");if(!n)return;const t=document.createElement("button");t.className="copy-code",t.textContent="Copy",t.setAttribute("aria-label","Copy code to clipboard"),t.addEventListener("click",async()=>{const e=n.querySelector("code"),s=e?e.textContent:n.textContent;try{await navigator.clipboard.writeText(s),t.textContent="Copied!",t.classList.add("copied"),setTimeout(()=>{t.textContent="Copy",t.classList.remove("copied")},2e3)}catch{t.textContent="Failed",setTimeout(()=>{t.textContent="Copy"},2e3)}}),e.appendChild(t)});function i(){const e=document.activeElement;return e&&(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}})()